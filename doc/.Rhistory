terms
dim(terms)
terms <- posterior(ldaOut)$terms
colSums(terms)
rowSums(temrs)
rowSums(terms)
terms <- data.frame(posterior(ldaOut,dtm))
terms <- posterior(ldaOut)$terms
terms
dim(terms)
terms <- posterior(ldaOut)
names(terms)
terms$topics
topics<-terms$topics
dim(topics)
colSums(topics)
rowSums(topics)
rowSums(topics)
names(terms)
alpha<-50/k
k <- 10
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
burnin <- 4000
iter <- 1000
thin <- 200
seed <-list(2003,2,68,100001,765)
nstart <- 5
best <- TRUE
delta=0.1
alpha<-50/k
# Number of topics
k <- 10
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed, best=best,
burnin = burnin, burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each row (document)
topicProbabilities <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
terms <- posterior(ldaOut)$terms
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed, best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
topicProbabilities <- as.data.frame(ldaOut@gamma)
terms <- posterior(ldaOut)$terms
dim(topicProbabilities)
dim(terms)
dim(dtm_list)
length(dtm_list)
dim(query.list)
length(query.list)
for i in (1:length(dtm_list)){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
theta[[i]] <- list(name = query.list[i], theta = theta)
phi[[i]] <- list(name = query.list[i], phi = phi)
}
theta<-list()
phi<-list()
theta[[i]] <- list(name = query.list[i], theta = theta)
phi[[i]] <- list(name = query.list[i], phi = phi)
for i in (1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
theta[[i]] <- list(name = query.list[i], theta = theta)
phi[[i]] <- list(name = query.list[i], phi = phi)
}
theta <- as.data.frame(ldaOut@gamma)
phi <- posterior(ldaOut)$terms
theta[[i]] <- list(name = query.list[i], theta = theta)
theta[[i]] <- list(name = query.list[i], theta = theta)
temp1<-list(name = query.list[i], theta = theta)
theta[[i]] <- temp1
i
i<-NULL
i
i<-2
theta[[i]] <- temp1
dim(temp1)
temp1
temp1[[1]]
[1]
temp1[1]
temp[2]
i
query.list[2]
i
temp1<-list(name = query.list[i], theta = theta)
temp1[1]
temp1[2]
theta[[i]] <- temp1
theta<-list()
theta[[i]] <- temp1
theta[[3]] <- temp1
theta[[1]] <- temp1
dim(theta)
str(theta)
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
theta <- as.data.frame(ldaOut@gamma)
phi <- posterior(ldaOut)$terms
temp1<-list(name = query.list[i], theta = theta)
theta[[i]] <- temp1
phi[[i]] <- list(name = query.list[i], phi = phi)
phi
str(phi)
phi[i] <- list(name = query.list[i], phi = phi)
phi<-list()
phi[i] <- list(name = query.list[i], phi = phi)
phi[i] <- list(name = query.list[i], phi = phi)
phi[[i]] <- list(name = query.list[i], phi = phi)
temp1<-list(query.list[i],  theta)
theta[[i]] <- temp1
phi[[i]] <- list(query.list[i], phi)
for i in (1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
theta<-list()
phi<-list()
theta
phi
theta<-list(name=NULL,theta=NULL)
phi<-list(name=NULL,phi=NULL)
for i in (1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta[[i]] <- temp1
phi[[i]] <- list(query.list[i], phi)
}
theta<-list(name=NULL,theta=NULL)
phi<-list(name=NULL,phi=NULL)
for i in (1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta[[i]] <- temp1
temp2<-list(query.list[i],  phi)
phi[[i]] <- temp2
}
i
phi[[i]] <- temp2
phi
dim(phi)
str(phi)
query.list[i]
str(phi)
dim(phi)
phi <- posterior(ldaOut)$terms
dim(phi)
dim(theta)
phi <- append(phi,temp2)
theta<-list(name=NULL,theta=NULL)
phi<-list(name=NULL,phi=NULL)
for i in (1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta<- append(theta,temp1)
temp2<-list(query.list[i],  phi)
phi <- append(phi,temp2)
}
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta<- append(theta,temp1)
temp2<-list(query.list[i],  phi)
phi <- append(phi,temp2)
i
i<-3
for (i in 1:3){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta<- append(theta,temp1)
temp2<-list(query.list[i],  phi)
phi <- append(phi,temp2)
}
save(theta,file="../output/theta.RData")
save(phi,file="../output/phi.RData")
theta<-list(name=NULL,theta=NULL)
phi<-list(name=NULL,phi=NULL)
for (i in 1:length(query.list)){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta<- append(theta,temp1)
temp2<-list(query.list[i],  phi)
phi <- append(phi,temp2)
}
save(theta,file="../output/theta.RData")
save(phi,file="../output/phi.RData")
dim(theta)
str(theta)
str(phi)
length(query.list)
theta[[1]]
str(theta[[1]])
names(theta)
length(theta)
c(theta,temp1)
dim(c(theta,temp1))
theta[[1]]<-temp1
theta[[2]]<-temp1
theta[[3]]<-temp1
theta
str(theta)
theta<-list()
theta[[1]]<-temp1
theta[[2]]<-temp1
theta[[3]]<-temp1
str(theta)
theta<-list(name=NULL,theta=NULL)
phi<-list(name=NULL,phi=NULL)
for (i in 1:length(query.list)){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i],  theta)
theta[[i]]<- temp1
temp2<-list(query.list[i],  phi)
phi[[i]] <- temp2
}
theta
dim(theta)
theta<-list()
phi<-list()
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
theta <- as.data.frame(ldaOut@gamma)
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i], theta)
theta[[i]]<- temp1
theta
theta<-list()
phi<-list()
theta[[i]]<- temp1
temp2<-list(query.list[i], phi)
phi[[i]] <- temp2
theta <- as.data.frame(ldaOut@gamma)
phi <- posterior(ldaOut)$terms
temp1<-list(query.list[i], theta)
theta[[i]]<- temp1
i
i<-2
theta[[i]]<- temp1
temp1<-list(name=query.list[i], theta=theta)
theta[[i]]<- temp1
theta[[i]]<- temp1
i
i<-1
theta[[i]]<- temp1
theta<-NULL
theta[[i]]<- temp1
i<-2
temp1<-list(name=query.list[i], theta=theta)
theta[[i]]<- temp1
temp2<-list(query.list[i], phi)
phi[[i]] <- temp2
phi<-NULL
temp2<-list(query.list[i], phi)
phi[[i]] <- temp2
i<-1
temp2<-list(query.list[i], phi)
phi[[i]] <- temp2
theta<-NULL
phi<-NULL
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
theta <- as.data.frame(ldaOut@gamma)
phi <- posterior(ldaOut)$terms
temp1<-list(name=query.list[i], theta=theta)
theta[[i]]<- temp1
temp2<-list(query.list[i], phi)
phi[[i]] <- temp2
phi
str(phi)
typeof(phi)
phi[1]
phi[[1]]
phi[[2]]
phi$name
phi_list$name
theta_list<-NULL
phi_list<-NULL
for (i in 1:length(query.list)){
dtm<-dtm_list[[i]][[2]]
rowTotals <- apply(dtm , 1, sum)
dtm  <- dtm[rowTotals> 0, ]
# Run LDA using Gibbs sampling
ldaOut <-LDA(dtm, k, method="Gibbs",  control=list(nstart=nstart,
seed = seed,
best=best,
burnin = burnin,
alpha=alpha,
delta=delta,
iter=iter,
thin=thin))
# theta_dj;
# Probabilities associated with each topic assignment for each record
theta <- as.data.frame(ldaOut@gamma)
# phi_mj
# the probability of using word m in topic j
phi <- posterior(ldaOut)$terms
temp1<-list(name=query.list[i], theta=theta)
theta_list[[i]]<- temp1
temp2<-list(query.list[i], phi)
phi_list[[i]] <- temp2
}
length(phi_list)
phi_list[[1]]
names(phi_list[[1]])
names(phi_list)
phi_list[[1]][1]
phi_list[[1]][2]
dim(phi_list[[1]][2])
dim(phi_list[[1]][[2]])
names(theta_list)<-c("name","theta")
names(phi_list)<-c("name","phi")
save(theta,file="../output/theta.RData")
save(phi,file="../output/phi.RData")
